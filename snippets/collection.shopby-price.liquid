<section class="filter-price filter-tag">
  <div class="widget-title">
    <h2 class="mb-0">{{ settings.shop_by_price_title }}</h2>
  </div>

  {% assign price_ranges = "10 - 20,20 - 30,30 - 50,50 - 100,100 - 200" | split: "," %}
  <ul class="list-none list-price">
    {% for range in price_ranges %}
      {% if range != "" %}
        {% assign prices = range | split: " - " %}
        {% assign min_price = prices[0] | times: 100 %}
        {% assign max_price = prices[1] | times: 100 %}
        <li class="cat-item">
          <input type="checkbox" value="{{ min_price }}-{{ max_price }}" id="price-filter-{{ forloop.index }}" class="price-filter">
          <label for="price-filter-{{ forloop.index }}">
            {{ min_price | money }} - {{ max_price | money }}
          </label>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
  <!-- /.product-categories -->
</section>

<script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Function to filter products based on selected checkboxes
  function filterProducts() {
    // Get all checkboxes
    let checkboxes = document.querySelectorAll('.price-filter');
    let filters = [];

    // Collect checked filters
    checkboxes.forEach(function(checkbox) {
      if (checkbox.checked) {
        filters.push(checkbox.value);
      }
    });

    // Get all products
    let products = document.querySelectorAll('.trans-product');

    // Show/Hide products based on filters
    products.forEach(function(product) {
      let productPrice = parseFloat(product.getAttribute('data-converted-price'));
      let showProduct = filters.some(function(filter) {
        let [min, max] = filter.split('-').map(Number);
        return productPrice >= min && productPrice <= max;
      });

      if (showProduct || filters.length === 0) {
        product.style.display = 'block';
      } else {
        product.style.display = 'none';
      }
    });
  }

  // Attach event listeners to checkboxes
  let checkboxes = document.querySelectorAll('.price-filter');
  checkboxes.forEach(function(checkbox) {
    checkbox.addEventListener('change', filterProducts);
  });

  // Initial filter on page load
  filterProducts();
});
</script>
</script>

